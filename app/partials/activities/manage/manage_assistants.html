
<div class="container-fluid">
    
    <div class="col-md-11 col-md-offset-1">

        <p class="text-muted" ng-bind="manage.strings.COPY_ASSISTANTS"></p>

        <div ng-if="manage.calendars.length > 0" class="row">
            <div class="col-md-12">
                <div class="panel panel-default" style="cursor: pointer;"
                     ng-repeat="calendar in manage.calendars track by calendar.id">
                    <div class="panel-heading" ng-click="manage.expandCalendar(calendar)">
                        <div class="row">
                            <div class="panel-date">
                                <span>
                                    <span>
                                        <strong ng-bind="::manage.strings.LABEL_CALENDAR"></strong>
                                    </span>
                                    <br/>
                                    <span ng-bind="::calendar.fromDate"></span>
                                </span>
                            </div>
                            <div class="panel-date">
                                <span>
                                    <span>
                                        <strong ng-bind="::manage.strings.COPY_CLOSING_DATE"></strong>
                                    </span>
                                    <br/>
                                    <span ng-bind="::calendar.fromDate"></span>
                                </span>
                            </div>
                            <div class="panel-counter">
                                <span>
                                    <strong class="numbers">23/25</strong> <span ng-bind="manage.strings.COPY_SEATS"></span>
                                    <div class="progress">
                                        <div class="progress-bar progress-bar-primary" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 40%">
                                             <span class="sr-only">40% Complete (success)</span>
                                        </div>
                                    </div>
                                </span>
                            </div>
                            <i class="mdi-hardware-keyboard-arrow-down"></i>
                        </div>
                    </div>
                    <div class="panel-body" data-toggle="manage.activeCalendar.id == calendar.id" trulii-expandable-content>
                        <div ng-if="calendar.assistants.length > 0">
                            <div class="form-group">
                                <label class="control-label sr-only"
                                       ng-bind="::manage.strings.LABEL_SEARCH"></label>
                                <div class="input-group">
                                    <input class="form-control floating-label" type="text"
                                           ng-model="manage.queries.assistantQuery"
                                           ng-change="manage.updateByQuery(manage.TYPE_ASSISTANT)"
                                           placeholder="{{manage.strings.COPY_SEARCH}}">
                                    <span class="input-group-addon">
                                        <i class="mdi-action-search"></i>
                                    </span>
                                </div>
                            </div>

                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <tr class="text-center">
                                        <th ng-bind="::manage.strings.HEADER_FIRST_NAME"></th>
                                        <th ng-bind="::manage.strings.HEADER_LAST_NAME"></th>
                                        <th ng-bind="::manage.strings.HEADER_EMAIL"></th>
                                        <th ng-bind="::manage.strings.HEADER_ORDER"></th>
                                        <th ng-bind="::manage.strings.HEADER_CODE"></th>
                                    </tr>
                                    <tr ng-repeat="assistant in manage.assistants">
                                        <td>
                                            <span ng-bind="::assistant.first_name"></span>
                                        </td>
                                        <td>
                                            <span ng-bind="::assistant.last_name"></span>
                                        </td>
                                        <td>
                                            <span ng-bind="::assistant.email"></span>
                                        </td>
                                        <td>
                                            <span ng-bind="assistant.order"></span>
                                        </td>
                                        <td>
                                            <span ng-bind="assistant.orderid"></span>
                                        </td>
                                    </tr>
                                </table>
                            </div>

                            <pagination class="pagination-sm"
                                        ng-model="manage.assistantPaginationOpts.pageNumber"
                                        ng-change="manage.pageChange(manage.TYPE_ASSISTANT)"
                                        data-total-items="manage.assistantPaginationOpts.totalItems"
                                        data-items-per-page="manage.assistantPaginationOpts.itemsPerPage"></pagination>
                        </div>
                        <!--If there are no assistants-->
                        <div ng-if="calendar.assistants.length <= 0" class="row">
                            <br/>
                            <div class="col-md-12">
                                <h4 ng-bind="::manage.strings.LABEL_EMPTY_ASSISTANTS"></h4>
                                <p ng-bind="::manage.strings.COPY_EMPTY_ASSISTANTS"></p>
                            </div>
                        </div>
                    </div>
                </div>
                <pagination class="pagination-sm"
                            ng-model="manage.calendarPaginationOpts.pageNumber"
                            ng-change="manage.pageChange(manage.TYPE_CALENDAR)"
                            data-total-items="manage.calendarPaginationOpts.totalItems"
                            data-items-per-page="manage.calendarPaginationOpts.itemsPerPage"></pagination>
            </div>
        </div>
        <!--If there are no calendars-->
        <div ng-if="manage.calendars.length <= 0" class="row">
            <div class="col-md-12 text-center">
                <img src="css/img/organizer_dashboard_calendars_empty.png"
                     alt="{{manage.strings.LABEL_EMPTY_CALENDARS}}"/>
                <div class="separate-below separate-above standout-text"
                     ng-bind="::manage.strings.COPY_EMPTY_CALENDARS">
                </div>
            </div>
        </div>
    </div>    
</div>

<div class="container-fluid">
    <div class="row">
        <nav class="sidebar lateral-slide" ng-class="{'sidebar-short': pc.scroll > 80, 'hidden-xs': !pc.showSidebar, 'hidden-sm': !pc.showSidebar}" ng-style="(!pc.areAllStepsCompleted() && {'padding-bottom': '180px'}) || (pc.areAllStepsCompleted() && {'padding-bottom': '175px'})">
                <a  ng-repeat="step in pc.steps track by step.name"
                ui-sref="{{step.sref}}"
                class="sidebar__item"
                ui-sref-active="sidebar__item--selected"
                ng-class="{ '--muted': !pc.isSectionCompleted(step.name)} "
                ng-click="dash.toggleSidebar()">
                    <i class="{{::step.icon}} sidebar__item__icon"></i>
                    <span ng-bind="::step.title"></span>
                    <i class="mandatory-mark --right" ng-show="step.required && !pc.isSectionCompleted(step.name)"></i>
                </a>
            <div class="sidebar__bottom-action-container">
                <div class="sidebar__bottom-action text-center" >

                    <div ng-show="!pc.areAllStepsCompleted()">
                        <div>
                            <ng-pluralize count="pc.activity.steps_left"
                                when="{
                                    '0':'',
                                    '1': 'Falta',
                                    'other': 'Faltan'
                                    }">
                            </ng-pluralize>
                            <strong>{{pc.activity.steps_left}}

                                <ng-pluralize count="pc.activity.steps_left"
                                    when="{
                                        '0':'',
                                        '1': 'paso',
                                        'other': 'pasos'
                                        }">
                                </ng-pluralize>

                            </strong>
                        </div>
                        <span>Para publicar tu actividad</span><br/>
                        <hr>
                        <div class="text-uppercase">
                            <span class="mandatory-mark"></span> Obligatorios
                        </div>
                    </div>
                    <div ng-show="pc.activity.published">
                        <div ng-show="pc.allow_unpublish" class="lateral-fade">
                            <span ng-bind="::pc.strings.COPY_UNPUBLISH_ACTIVITY"></span>
                            <button class="btn btn-warning btn-lg"
                                   ng-click="pc.unpublish_activity()">
                                <span ng-bind="::pc.strings.UNPUBLISH_ACTIVITY_LABEL"></span>
                            </button>
                        </div>
                        <div class="lateral-fade strong-text-muted separate-above" ng-show="!pc.allow_unpublish">
                            Desactivando...
                        </div>
                    </div>
                    <div ng-show="pc.areAllStepsCompleted() && !pc.activity.published">
                        <div class="lateral-fade" ng-show="pc.allow_publish">
                            <span>Â¡Actividad lista para publicar!</span><br/>
                            <button class="btn btn-secondary btn-lg" value="{{pc.strings.PUBLISH_ACTIVITY_LABEL}}"
                                   ng-click="pc.publish_activity()">
                                    <span ng-bind="::pc.strings.PUBLISH_ACTIVITY_LABEL"></span>
                            </button>
                        </div>
                        <div class="lateral-fade strong-text-muted separate-above" ng-show="!pc.allow_publish">
                            Publicando...
                        </div>
                    </div>
                </div>
                <div class="sidebar__bottom-action-dark">
                    <ul class="list-inline list-unstyled text-center text-uppercase">
                        <li>
                            <a class="text-center text-uppercase" ui-sref="dash.activities-manage.orders({activity_id: {{pc.activity.id}}})">
                                <i class="mdi-action-settings sidebar__item__icon"></i>
                                <span ng-bind="'Gestionar'"></span>
                            </a>
                        </li>
                    </ul>
                </div>

            </div>
        </nav>
        <div class="col-sm-10 separate-above separate-below-more">
            <div class="navbar-secondary" ng-class="{'navbar-secondary-short': pc.scroll > 80}">
              <a class="btn btn-default pull-right" ui-sref="activities-detail({activity_id: {{pc.activity.id}}})">
                  <i class="mdi-image-remove-red-eye sidebar__item__icon"></i>
                  <span>Ver</span>
              </a>
              <h4 class="sub-title" ng-bind="pc.activity.title"></h4>
            </div>
            <div class="row">
                <div class="col-xs-12 col-xs-offset-0 col-md-offset-1" ui-view></div>
            </div>
        </div>
        <a class="sidebar-mobile-toggle visible-xs-block visible-sm-block" ng-class="{'short': pc.scroll > 80}"
            ng-click="pc.toggleSidebar()">
            <i class="sidebar__item__icon mdi-action-settings"></i>
        </a>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <trulii-dashboard-footer></trulii-dashboard-footer>
        </div>
    </div>
</div>
